"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/notes/[id]/page",{

/***/ "(app-pages-browser)/./src/components/editor/AdvancedNotionEditor.tsx":
/*!********************************************************!*\
  !*** ./src/components/editor/AdvancedNotionEditor.tsx ***!
  \********************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdvancedNotionEditor: () => (/* binding */ AdvancedNotionEditor)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./src/components/ui/button.tsx\");\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sonner */ \"(app-pages-browser)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_GripVertical_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=GripVertical!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/grip-vertical.js\");\n/* harmony import */ var _hello_pangea_dnd__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @hello-pangea/dnd */ \"(app-pages-browser)/./node_modules/@hello-pangea/dnd/dist/dnd.esm.js\");\n/* harmony import */ var _blocks_TableBlock__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./blocks/TableBlock */ \"(app-pages-browser)/./src/components/editor/blocks/TableBlock.tsx\");\n/* harmony import */ var _blocks_ImageBlock__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./blocks/ImageBlock */ \"(app-pages-browser)/./src/components/editor/blocks/ImageBlock.tsx\");\n/* harmony import */ var _blocks_CalendarBlock__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./blocks/CalendarBlock */ \"(app-pages-browser)/./src/components/editor/blocks/CalendarBlock.tsx\");\n/* harmony import */ var _blocks_TodoBlock__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./blocks/TodoBlock */ \"(app-pages-browser)/./src/components/editor/blocks/TodoBlock.tsx\");\n/* __next_internal_client_entry_do_not_use__ AdvancedNotionEditor auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nfunction AdvancedNotionEditor(param) {\n    let { content, blocks: initialBlocks, onChange, onSave, placeholder, autoSave = true, saveInterval = 5000, onInsertBlockRequest } = param;\n    _s();\n    const [blocks, setBlocks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"AdvancedNotionEditor.useState\": ()=>{\n            console.log('Initialisation des blocs:', {\n                initialBlocks,\n                content\n            });\n            if (initialBlocks && initialBlocks.length > 0) {\n                console.log('Utilisation des blocs initiaux:', initialBlocks);\n                // Désérialiser les dates si nécessaire\n                const deserializedBlocks = initialBlocks.map({\n                    \"AdvancedNotionEditor.useState.deserializedBlocks\": (block)=>({\n                            ...block,\n                            data: block.data ? {\n                                ...block.data,\n                                // Reconvertir les strings en dates pour les blocs qui en ont besoin\n                                ...block.type === 'calendar' && block.data.currentDate ? {\n                                    currentDate: new Date(block.data.currentDate)\n                                } : {},\n                                ...block.type === 'calendar' && block.data.events ? {\n                                    events: block.data.events.map({\n                                        \"AdvancedNotionEditor.useState.deserializedBlocks\": (event)=>({\n                                                ...event,\n                                                date: new Date(event.date)\n                                            })\n                                    }[\"AdvancedNotionEditor.useState.deserializedBlocks\"])\n                                } : {},\n                                ...block.type === 'todoList' && block.data.items ? {\n                                    items: block.data.items.map({\n                                        \"AdvancedNotionEditor.useState.deserializedBlocks\": (item)=>({\n                                                ...item,\n                                                createdAt: new Date(item.createdAt)\n                                            })\n                                    }[\"AdvancedNotionEditor.useState.deserializedBlocks\"])\n                                } : {}\n                            } : undefined\n                        })\n                }[\"AdvancedNotionEditor.useState.deserializedBlocks\"]);\n                console.log('Blocs désérialisés:', deserializedBlocks);\n                return deserializedBlocks;\n            }\n            const defaultBlocks = [\n                {\n                    id: '1',\n                    type: 'paragraph',\n                    content: content || ''\n                }\n            ];\n            console.log('Utilisation des blocs par défaut:', defaultBlocks);\n            return defaultBlocks;\n        }\n    }[\"AdvancedNotionEditor.useState\"]);\n    const [lastSaved, setLastSaved] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [hasUnsavedChanges, setHasUnsavedChanges] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isSaving, setIsSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [lastContent, setLastContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(content || '');\n    const editorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const saveTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lastCursorPosition = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AdvancedNotionEditor.useEffect\": ()=>{\n            if (content && blocks.length === 1 && !blocks[0].content) {\n                setBlocks([\n                    {\n                        id: '1',\n                        type: 'paragraph',\n                        content\n                    }\n                ]);\n            }\n        }\n    }[\"AdvancedNotionEditor.useEffect\"], [\n        content\n    ]);\n    // Auto-save effect\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AdvancedNotionEditor.useEffect\": ()=>{\n            if (autoSave && hasUnsavedChanges && !isSaving) {\n                if (saveTimeoutRef.current) {\n                    clearTimeout(saveTimeoutRef.current);\n                }\n                const currentContent = blocks.map({\n                    \"AdvancedNotionEditor.useEffect.currentContent\": (block)=>block.type === 'paragraph' ? block.content : \"[\".concat(block.type, \"]\")\n                }[\"AdvancedNotionEditor.useEffect.currentContent\"]).join('\\n').trim();\n                const hasMinimumContent = currentContent.length > 3;\n                if (hasMinimumContent) {\n                    saveTimeoutRef.current = setTimeout({\n                        \"AdvancedNotionEditor.useEffect\": ()=>{\n                            handleSave();\n                        }\n                    }[\"AdvancedNotionEditor.useEffect\"], saveInterval);\n                }\n            }\n            return ({\n                \"AdvancedNotionEditor.useEffect\": ()=>{\n                    if (saveTimeoutRef.current) {\n                        clearTimeout(saveTimeoutRef.current);\n                    }\n                }\n            })[\"AdvancedNotionEditor.useEffect\"];\n        }\n    }[\"AdvancedNotionEditor.useEffect\"], [\n        hasUnsavedChanges,\n        autoSave,\n        saveInterval,\n        isSaving,\n        blocks\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AdvancedNotionEditor.useEffect\": ()=>{\n            return ({\n                \"AdvancedNotionEditor.useEffect\": ()=>{\n                    if (saveTimeoutRef.current) {\n                        clearTimeout(saveTimeoutRef.current);\n                    }\n                }\n            })[\"AdvancedNotionEditor.useEffect\"];\n        }\n    }[\"AdvancedNotionEditor.useEffect\"], []);\n    const handleSave = async ()=>{\n        if (isSaving) return;\n        const currentContent = blocks.map((block)=>block.type === 'paragraph' ? block.content : \"[\".concat(block.type, \"]\").concat(block.content)).join('\\n');\n        if (currentContent === lastContent) {\n            return;\n        }\n        setIsSaving(true);\n        try {\n            // Sérialiser les blocs pour la sauvegarde (convertir les dates en strings)\n            const serializedBlocks = blocks.map((block)=>({\n                    ...block,\n                    data: block.data ? JSON.parse(JSON.stringify(block.data)) : undefined\n                }));\n            // Sauvegarder avec les blocs structurés\n            await onSave(serializedBlocks);\n            setLastSaved(new Date());\n            setHasUnsavedChanges(false);\n            setLastContent(currentContent);\n            if (!autoSave) {\n                sonner__WEBPACK_IMPORTED_MODULE_3__.toast.success(\"Note sauvegardée\");\n            }\n        } catch (error) {\n            console.error('Erreur lors de la sauvegarde:', error);\n            sonner__WEBPACK_IMPORTED_MODULE_3__.toast.error(\"Erreur lors de la sauvegarde\");\n        } finally{\n            setIsSaving(false);\n        }\n    };\n    // Fonction simple pour changer un bloc\n    const handleBlockChange = (blockId, newContent)=>{\n        setBlocks((prevBlocks)=>prevBlocks.map((block)=>block.id === blockId ? {\n                    ...block,\n                    content: newContent\n                } : block));\n        setHasUnsavedChanges(true);\n    };\n    const handleBlockUpdate = (blockId, data)=>{\n        setBlocks((prevBlocks)=>prevBlocks.map((block)=>block.id === blockId ? {\n                    ...block,\n                    data\n                } : block));\n        setHasUnsavedChanges(true);\n    };\n    const addNewBlock = function(afterBlockId) {\n        let type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 'paragraph';\n        const newBlock = {\n            id: Date.now().toString(),\n            type,\n            content: '',\n            data: getDefaultDataForType(type)\n        };\n        setBlocks((prevBlocks)=>{\n            const index = prevBlocks.findIndex((block)=>block.id === afterBlockId);\n            const newBlocks = [\n                ...prevBlocks\n            ];\n            newBlocks.splice(index + 1, 0, newBlock);\n            return newBlocks;\n        });\n        setTimeout(()=>{\n            const newBlockElement = document.querySelector('[data-block-id=\"'.concat(newBlock.id, '\"]'));\n            if (newBlockElement) {\n                newBlockElement.focus();\n            }\n        }, 0);\n    };\n    const insertBlock = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AdvancedNotionEditor.useCallback[insertBlock]\": (type, data)=>{\n            console.log('Insertion de bloc dans l\\'éditeur:', type, data);\n            console.log('Position sauvegardée du curseur:', lastCursorPosition.current);\n            const getDefaultData = {\n                \"AdvancedNotionEditor.useCallback[insertBlock].getDefaultData\": (blockType)=>{\n                    switch(blockType){\n                        case 'table':\n                            return {\n                                rows: [\n                                    [\n                                        '',\n                                        ''\n                                    ],\n                                    [\n                                        '',\n                                        ''\n                                    ]\n                                ],\n                                headers: false,\n                                alignment: [\n                                    'left',\n                                    'left'\n                                ]\n                            };\n                        case 'image':\n                            return {\n                                src: '',\n                                alt: '',\n                                caption: '',\n                                alignment: 'center',\n                                size: 'medium'\n                            };\n                        case 'calendar':\n                            return {\n                                events: [],\n                                view: 'month',\n                                currentDate: new Date()\n                            };\n                        case 'todoList':\n                            return {\n                                items: [],\n                                title: 'Liste de tâches'\n                            };\n                        default:\n                            return undefined;\n                    }\n                }\n            }[\"AdvancedNotionEditor.useCallback[insertBlock].getDefaultData\"];\n            const newBlock = {\n                id: Date.now().toString(),\n                type: type,\n                content: '',\n                data: data || getDefaultData(type)\n            };\n            // Utiliser la position sauvegardée du curseur\n            const cursorInfo = lastCursorPosition.current;\n            setBlocks({\n                \"AdvancedNotionEditor.useCallback[insertBlock]\": (currentBlocks)=>{\n                    if (!cursorInfo) {\n                        // Pas de position sauvegardée, ajouter à la fin\n                        console.log('Pas de position sauvegardée, ajout à la fin');\n                        return [\n                            ...currentBlocks,\n                            newBlock\n                        ];\n                    }\n                    const targetIndex = currentBlocks.findIndex({\n                        \"AdvancedNotionEditor.useCallback[insertBlock].targetIndex\": (block)=>block.id === cursorInfo.blockId\n                    }[\"AdvancedNotionEditor.useCallback[insertBlock].targetIndex\"]);\n                    if (targetIndex === -1) {\n                        console.log('Bloc cible non trouvé, ajout à la fin');\n                        return [\n                            ...currentBlocks,\n                            newBlock\n                        ];\n                    }\n                    const targetBlock = currentBlocks[targetIndex];\n                    const newBlocks = [\n                        ...currentBlocks\n                    ];\n                    const { position, content } = cursorInfo;\n                    console.log('Insertion avec position:', {\n                        targetIndex,\n                        position,\n                        content\n                    });\n                    // Si le curseur est au milieu du texte, diviser\n                    if (position > 0 && position < content.length) {\n                        const beforeText = content.substring(0, position);\n                        const afterText = content.substring(position);\n                        console.log('Division du bloc:', {\n                            beforeText,\n                            afterText\n                        });\n                        // Modifier le bloc actuel\n                        newBlocks[targetIndex] = {\n                            ...targetBlock,\n                            content: beforeText\n                        };\n                        // Créer le bloc pour le texte après\n                        const afterBlock = {\n                            id: (Date.now() + 1).toString(),\n                            type: 'paragraph',\n                            content: afterText\n                        };\n                        // Insérer le nouveau bloc et le bloc après\n                        newBlocks.splice(targetIndex + 1, 0, newBlock, afterBlock);\n                    } else {\n                        // Insertion simple\n                        const insertAt = position === 0 ? targetIndex : targetIndex + 1;\n                        console.log('Insertion simple à l\\'index:', insertAt);\n                        newBlocks.splice(insertAt, 0, newBlock);\n                    }\n                    return newBlocks;\n                }\n            }[\"AdvancedNotionEditor.useCallback[insertBlock]\"]);\n            setHasUnsavedChanges(true);\n            // Focus sur le nouveau bloc\n            setTimeout({\n                \"AdvancedNotionEditor.useCallback[insertBlock]\": ()=>{\n                    const newBlockElement = document.querySelector('[data-block-id=\"'.concat(newBlock.id, '\"]'));\n                    if (newBlockElement) {\n                        newBlockElement.focus();\n                    }\n                }\n            }[\"AdvancedNotionEditor.useCallback[insertBlock]\"], 50);\n        }\n    }[\"AdvancedNotionEditor.useCallback[insertBlock]\"], []);\n    const deleteBlock = (blockId)=>{\n        setBlocks((prevBlocks)=>prevBlocks.filter((block)=>block.id !== blockId));\n        setHasUnsavedChanges(true);\n    };\n    const duplicateBlock = (blockId)=>{\n        const blockToDuplicate = blocks.find((block)=>block.id === blockId);\n        if (!blockToDuplicate) return;\n        const duplicatedBlock = {\n            ...blockToDuplicate,\n            id: Date.now().toString()\n        };\n        const originalIndex = blocks.findIndex((block)=>block.id === blockId);\n        setBlocks((prevBlocks)=>{\n            const newBlocks = [\n                ...prevBlocks\n            ];\n            newBlocks.splice(originalIndex + 1, 0, duplicatedBlock);\n            return newBlocks;\n        });\n        setHasUnsavedChanges(true);\n    };\n    const moveBlock = (blockId, direction)=>{\n        const currentIndex = blocks.findIndex((block)=>block.id === blockId);\n        if (currentIndex === -1) return;\n        const newIndex = direction === 'up' ? currentIndex - 1 : currentIndex + 1;\n        if (newIndex < 0 || newIndex >= blocks.length) return;\n        setBlocks((prevBlocks)=>{\n            const newBlocks = [\n                ...prevBlocks\n            ];\n            const [movedBlock] = newBlocks.splice(currentIndex, 1);\n            newBlocks.splice(newIndex, 0, movedBlock);\n            return newBlocks;\n        });\n        setHasUnsavedChanges(true);\n    };\n    const getDefaultDataForType = (type)=>{\n        switch(type){\n            case 'table':\n                return {\n                    rows: [\n                        [\n                            '',\n                            ''\n                        ],\n                        [\n                            '',\n                            ''\n                        ]\n                    ],\n                    headers: false,\n                    alignment: [\n                        'left',\n                        'left'\n                    ]\n                };\n            case 'image':\n                return {\n                    src: '',\n                    alt: '',\n                    caption: '',\n                    alignment: 'center',\n                    size: 'medium'\n                };\n            case 'calendar':\n                return {\n                    events: [],\n                    view: 'month',\n                    currentDate: new Date()\n                };\n            case 'todoList':\n                return {\n                    items: [],\n                    title: 'Liste de tâches'\n                };\n            default:\n                return undefined;\n        }\n    };\n    const handleKeyDown = (e, blockId)=>{\n        const currentBlock = blocks.find((block)=>block.id === blockId);\n        const currentIndex = blocks.findIndex((block)=>block.id === blockId);\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            addNewBlock(blockId);\n        } else if (e.key === '/' && (currentBlock === null || currentBlock === void 0 ? void 0 : currentBlock.content) === '') {\n            // Raccourci pour ouvrir le menu d'insertion\n            e.preventDefault();\n            console.log('Ouverture du menu d\\'insertion pour le bloc:', blockId);\n        // TODO: Ouvrir un menu contextuel d'insertion\n        } else if (e.key === 'Backspace') {\n            // Si le bloc est vide ou si on est au début du contenu\n            const target = e.target;\n            const cursorPosition = target.selectionStart;\n            if (cursorPosition === 0 && (currentBlock === null || currentBlock === void 0 ? void 0 : currentBlock.content) === '') {\n                // Supprimer le bloc vide et revenir au précédent\n                if (blocks.length > 1 && currentIndex > 0) {\n                    e.preventDefault();\n                    const previousBlock = blocks[currentIndex - 1];\n                    const previousBlockContent = previousBlock.content;\n                    // Supprimer le bloc courant\n                    setBlocks((prevBlocks)=>prevBlocks.filter((block)=>block.id !== blockId));\n                    setHasUnsavedChanges(true);\n                    // Focuser sur le bloc précédent à la fin de son contenu\n                    setTimeout(()=>{\n                        const previousElement = document.querySelector('[data-block-id=\"'.concat(previousBlock.id, '\"]'));\n                        if (previousElement) {\n                            previousElement.focus();\n                            // Placer le curseur à la fin\n                            if (previousElement instanceof HTMLTextAreaElement || previousElement instanceof HTMLInputElement) {\n                                previousElement.setSelectionRange(previousBlockContent.length, previousBlockContent.length);\n                            }\n                        }\n                    }, 0);\n                }\n            } else if (cursorPosition === 0 && (currentBlock === null || currentBlock === void 0 ? void 0 : currentBlock.content) && currentIndex > 0) {\n                // Fusionner avec le bloc précédent\n                e.preventDefault();\n                const previousBlock = blocks[currentIndex - 1];\n                const previousContent = previousBlock.content;\n                const currentContent = currentBlock.content;\n                // Mettre à jour le contenu du bloc précédent\n                setBlocks((prevBlocks)=>prevBlocks.map((block)=>block.id === previousBlock.id ? {\n                            ...block,\n                            content: previousContent + currentContent\n                        } : block).filter((block)=>block.id !== blockId));\n                setHasUnsavedChanges(true);\n                // Focuser sur le bloc précédent à la position de jonction\n                setTimeout(()=>{\n                    const previousElement = document.querySelector('[data-block-id=\"'.concat(previousBlock.id, '\"]'));\n                    if (previousElement) {\n                        previousElement.focus();\n                        // Placer le curseur à la position de jonction\n                        if (previousElement instanceof HTMLTextAreaElement || previousElement instanceof HTMLInputElement) {\n                            previousElement.setSelectionRange(previousContent.length, previousContent.length);\n                        }\n                    }\n                }, 0);\n            }\n        } else if (e.key === 'ArrowUp' && currentIndex > 0) {\n            // Navigation vers le bloc précédent avec flèche haut\n            const target = e.target;\n            const cursorPosition = target.selectionStart;\n            // Si on est au début de la ligne ou si c'est un input\n            if (cursorPosition === 0 || target instanceof HTMLInputElement) {\n                e.preventDefault();\n                const previousBlock = blocks[currentIndex - 1];\n                const previousElement = document.querySelector('[data-block-id=\"'.concat(previousBlock.id, '\"]'));\n                if (previousElement) {\n                    previousElement.focus();\n                    // Placer le curseur à la fin\n                    if (previousElement instanceof HTMLTextAreaElement || previousElement instanceof HTMLInputElement) {\n                        const endPosition = previousElement.value.length;\n                        previousElement.setSelectionRange(endPosition, endPosition);\n                    }\n                }\n            }\n        } else if (e.key === 'ArrowDown' && currentIndex < blocks.length - 1) {\n            // Navigation vers le bloc suivant avec flèche bas\n            const target = e.target;\n            const cursorPosition = target.selectionStart;\n            const textLength = target.value.length;\n            // Si on est à la fin de la ligne ou si c'est un input\n            if (cursorPosition === textLength || target instanceof HTMLInputElement) {\n                e.preventDefault();\n                const nextBlock = blocks[currentIndex + 1];\n                const nextElement = document.querySelector('[data-block-id=\"'.concat(nextBlock.id, '\"]'));\n                if (nextElement) {\n                    nextElement.focus();\n                    // Placer le curseur au début\n                    if (nextElement instanceof HTMLTextAreaElement || nextElement instanceof HTMLInputElement) {\n                        nextElement.setSelectionRange(0, 0);\n                    }\n                }\n            }\n        } else if (e.ctrlKey || e.metaKey) {\n            if (e.key === 's') {\n                e.preventDefault();\n                handleSave();\n            }\n        }\n    };\n    // Gestion du drag & drop avec @hello-pangea/dnd\n    const handleDragEnd = (result)=>{\n        if (!result.destination) {\n            return;\n        }\n        const sourceIndex = result.source.index;\n        const destinationIndex = result.destination.index;\n        if (sourceIndex === destinationIndex) {\n            return;\n        }\n        setBlocks((prevBlocks)=>{\n            const newBlocks = Array.from(prevBlocks);\n            const [reorderedItem] = newBlocks.splice(sourceIndex, 1);\n            newBlocks.splice(destinationIndex, 0, reorderedItem);\n            return newBlocks;\n        });\n        setHasUnsavedChanges(true);\n        sonner__WEBPACK_IMPORTED_MODULE_3__.toast.success('Bloc déplacé avec succès');\n    };\n    const renderBlock = (block)=>{\n        const commonProps = {\n            'data-block-id': block.id,\n            onKeyDown: (e)=>handleKeyDown(e, block.id),\n            onFocus: (e)=>{\n                const target = e.target;\n                const position = target.selectionStart || 0;\n                lastCursorPosition.current = {\n                    blockId: block.id,\n                    position,\n                    content: target.value\n                };\n            }\n        };\n        switch(block.type){\n            case 'table':\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_blocks_TableBlock__WEBPACK_IMPORTED_MODULE_4__.TableBlock, {\n                    id: block.id,\n                    data: block.data || getDefaultDataForType('table'),\n                    onUpdate: handleBlockUpdate,\n                    onDelete: deleteBlock\n                }, block.id, false, {\n                    fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                    lineNumber: 541,\n                    columnNumber: 11\n                }, this);\n            case 'image':\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_blocks_ImageBlock__WEBPACK_IMPORTED_MODULE_5__.ImageBlock, {\n                    id: block.id,\n                    data: block.data || getDefaultDataForType('image'),\n                    onUpdate: handleBlockUpdate,\n                    onDelete: deleteBlock\n                }, block.id, false, {\n                    fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                    lineNumber: 551,\n                    columnNumber: 11\n                }, this);\n            case 'calendar':\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_blocks_CalendarBlock__WEBPACK_IMPORTED_MODULE_6__.CalendarBlock, {\n                    id: block.id,\n                    data: block.data || getDefaultDataForType('calendar'),\n                    onUpdate: handleBlockUpdate,\n                    onDelete: deleteBlock\n                }, block.id, false, {\n                    fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                    lineNumber: 561,\n                    columnNumber: 11\n                }, this);\n            case 'todoList':\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_blocks_TodoBlock__WEBPACK_IMPORTED_MODULE_7__.TodoBlock, {\n                    id: block.id,\n                    data: block.data || getDefaultDataForType('todoList'),\n                    onUpdate: handleBlockUpdate,\n                    onDelete: deleteBlock\n                }, block.id, false, {\n                    fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                    lineNumber: 571,\n                    columnNumber: 11\n                }, this);\n            case 'divider':\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full h-px bg-border my-4\"\n                }, void 0, false, {\n                    fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                    lineNumber: 580,\n                    columnNumber: 16\n                }, this);\n            case 'heading1':\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                    ...commonProps,\n                    type: \"text\",\n                    className: \"w-full bg-transparent border-none outline-none text-3xl font-bold placeholder:text-muted-foreground\",\n                    defaultValue: block.content,\n                    onChange: (e)=>handleBlockChange(block.id, e.target.value),\n                    placeholder: \"Titre 1\"\n                }, void 0, false, {\n                    fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                    lineNumber: 583,\n                    columnNumber: 11\n                }, this);\n            case 'heading2':\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                    ...commonProps,\n                    type: \"text\",\n                    className: \"w-full bg-transparent border-none outline-none text-2xl font-semibold placeholder:text-muted-foreground\",\n                    defaultValue: block.content,\n                    onChange: (e)=>handleBlockChange(block.id, e.target.value),\n                    placeholder: \"Titre 2\"\n                }, void 0, false, {\n                    fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                    lineNumber: 594,\n                    columnNumber: 11\n                }, this);\n            case 'heading3':\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                    ...commonProps,\n                    type: \"text\",\n                    className: \"w-full bg-transparent border-none outline-none text-xl font-medium placeholder:text-muted-foreground\",\n                    defaultValue: block.content,\n                    onChange: (e)=>handleBlockChange(block.id, e.target.value),\n                    placeholder: \"Titre 3\"\n                }, void 0, false, {\n                    fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                    lineNumber: 605,\n                    columnNumber: 11\n                }, this);\n            case 'quote':\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"border-l-4 border-muted pl-4\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                        ...commonProps,\n                        className: \"w-full bg-transparent border-none outline-none resize-none italic text-muted-foreground placeholder:text-muted-foreground\",\n                        defaultValue: block.content,\n                        onChange: (e)=>handleBlockChange(block.id, e.target.value),\n                        placeholder: \"Citation...\",\n                        rows: 1\n                    }, void 0, false, {\n                        fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                        lineNumber: 617,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                    lineNumber: 616,\n                    columnNumber: 11\n                }, this);\n            case 'code':\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-muted rounded-md p-3 font-mono\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                        ...commonProps,\n                        className: \"w-full bg-transparent border-none outline-none resize-none font-mono text-sm placeholder:text-muted-foreground\",\n                        defaultValue: block.content,\n                        onChange: (e)=>handleBlockChange(block.id, e.target.value),\n                        placeholder: \"Code...\",\n                        rows: 3\n                    }, void 0, false, {\n                        fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                        lineNumber: 630,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                    lineNumber: 629,\n                    columnNumber: 11\n                }, this);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                    ...commonProps,\n                    className: \"w-full bg-transparent border-none outline-none resize-none placeholder:text-muted-foreground\",\n                    defaultValue: block.content,\n                    onChange: (e)=>handleBlockChange(block.id, e.target.value),\n                    placeholder: \"\",\n                    rows: 1\n                }, void 0, false, {\n                    fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                    lineNumber: 642,\n                    columnNumber: 11\n                }, this);\n        }\n    };\n    const formatLastSaved = ()=>{\n        if (!lastSaved) return '';\n        const now = new Date();\n        const diff = now.getTime() - lastSaved.getTime();\n        const minutes = Math.floor(diff / 60000);\n        if (minutes === 0) return 'À l\\'instant';\n        if (minutes === 1) return 'Il y a 1 minute';\n        if (minutes < 60) return \"Il y a \".concat(minutes, \" minutes\");\n        return lastSaved.toLocaleTimeString('fr-FR', {\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n    };\n    // Expose insertBlock function to parent\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AdvancedNotionEditor.useEffect\": ()=>{\n            if (onInsertBlockRequest) {\n                onInsertBlockRequest(insertBlock);\n            }\n        }\n    }[\"AdvancedNotionEditor.useEffect\"], [\n        onInsertBlockRequest,\n        insertBlock\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative\",\n        ref: editorRef,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between mb-4 pb-2 border-b\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2 text-sm text-muted-foreground\",\n                            children: isSaving ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-2 h-2 bg-blue-500 rounded-full animate-pulse\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                                        lineNumber: 685,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Sauvegarde...\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                                        lineNumber: 686,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true) : hasUnsavedChanges ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-2 h-2 bg-orange-500 rounded-full\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                                        lineNumber: 690,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Modifications non sauvegard\\xe9es\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                                        lineNumber: 691,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true) : lastSaved ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-2 h-2 bg-green-500 rounded-full\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                                        lineNumber: 695,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"Sauvegard\\xe9 \",\n                                            formatLastSaved()\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                                        lineNumber: 696,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-2 h-2 bg-gray-400 rounded-full\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                                        lineNumber: 700,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Nouveau brouillon\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                                        lineNumber: 701,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true)\n                        }, void 0, false, {\n                            fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                            lineNumber: 682,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                        lineNumber: 681,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                variant: \"outline\",\n                                size: \"sm\",\n                                onClick: ()=>handleSave(),\n                                disabled: isSaving || !hasUnsavedChanges,\n                                children: isSaving ? 'Sauvegarde...' : 'Sauvegarder'\n                            }, void 0, false, {\n                                fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                                lineNumber: 708,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs text-muted-foreground\",\n                                children: autoSave ? 'Auto-save activé' : 'Ctrl+S'\n                            }, void 0, false, {\n                                fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                                lineNumber: 716,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                        lineNumber: 707,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                lineNumber: 680,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_hello_pangea_dnd__WEBPACK_IMPORTED_MODULE_8__.DragDropContext, {\n                onDragEnd: handleDragEnd,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_hello_pangea_dnd__WEBPACK_IMPORTED_MODULE_8__.Droppable, {\n                    droppableId: \"blocks\",\n                    children: (provided)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            ...provided.droppableProps,\n                            ref: provided.innerRef,\n                            className: \"space-y-2\",\n                            children: [\n                                blocks.map((block, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_hello_pangea_dnd__WEBPACK_IMPORTED_MODULE_8__.Draggable, {\n                                        draggableId: block.id,\n                                        index: index,\n                                        children: (provided, snapshot)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                ref: provided.innerRef,\n                                                ...provided.draggableProps,\n                                                className: \"relative group \".concat(snapshot.isDragging ? 'opacity-75' : ''),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        ...provided.dragHandleProps,\n                                                        className: \"absolute -left-8 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-6 h-6 bg-gray-100 hover:bg-gray-200 border border-gray-300 rounded cursor-grab flex items-center justify-center\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_GripVertical_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                                className: \"h-3 w-3 text-gray-500\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                                                                lineNumber: 736,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                                                            lineNumber: 735,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                                                        lineNumber: 734,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    renderBlock(block)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                                                lineNumber: 729,\n                                                columnNumber: 21\n                                            }, this)\n                                    }, block.id, false, {\n                                        fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                                        lineNumber: 727,\n                                        columnNumber: 17\n                                    }, this)),\n                                provided.placeholder\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                            lineNumber: 725,\n                            columnNumber: 13\n                        }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                    lineNumber: 723,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n                lineNumber: 722,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/theo/Developper/WEB/Notes/notes/src/components/editor/AdvancedNotionEditor.tsx\",\n        lineNumber: 678,\n        columnNumber: 5\n    }, this);\n}\n_s(AdvancedNotionEditor, \"sdUtIBiLEc3fT8qFk6jI9z2OPRY=\");\n_c = AdvancedNotionEditor;\nvar _c;\n$RefreshReg$(_c, \"AdvancedNotionEditor\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2VkaXRvci9BZHZhbmNlZE5vdGlvbkVkaXRvci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFaUU7QUFDakI7QUFDakI7QUFDK0M7QUFDSjtBQUN6QjtBQUNBO0FBQ007QUFDUjtBQW9CeEMsU0FBU2MscUJBQXFCLEtBU1Q7UUFUUyxFQUNuQ0MsT0FBTyxFQUNQQyxRQUFRQyxhQUFhLEVBQ3JCQyxRQUFRLEVBQ1JDLE1BQU0sRUFDTkMsV0FBVyxFQUNYQyxXQUFXLElBQUksRUFDZkMsZUFBZSxJQUFJLEVBQ25CQyxvQkFBb0IsRUFDTSxHQVRTOztJQVVuQyxNQUFNLENBQUNQLFFBQVFRLFVBQVUsR0FBR3hCLCtDQUFRQTt5Q0FBVTtZQUM1Q3lCLFFBQVFDLEdBQUcsQ0FBQyw2QkFBNkI7Z0JBQUVUO2dCQUFlRjtZQUFRO1lBRWxFLElBQUlFLGlCQUFpQkEsY0FBY1UsTUFBTSxHQUFHLEdBQUc7Z0JBQzdDRixRQUFRQyxHQUFHLENBQUMsbUNBQW1DVDtnQkFDL0MsdUNBQXVDO2dCQUN2QyxNQUFNVyxxQkFBcUJYLGNBQWNZLEdBQUc7d0VBQUNDLENBQUFBLFFBQVU7NEJBQ3JELEdBQUdBLEtBQUs7NEJBQ1JDLE1BQU1ELE1BQU1DLElBQUksR0FBRztnQ0FDakIsR0FBR0QsTUFBTUMsSUFBSTtnQ0FDYixvRUFBb0U7Z0NBQ3BFLEdBQUlELE1BQU1FLElBQUksS0FBSyxjQUFjRixNQUFNQyxJQUFJLENBQUNFLFdBQVcsR0FDbkQ7b0NBQUVBLGFBQWEsSUFBSUMsS0FBS0osTUFBTUMsSUFBSSxDQUFDRSxXQUFXO2dDQUFFLElBQ2hELENBQUMsQ0FBQztnQ0FDTixHQUFJSCxNQUFNRSxJQUFJLEtBQUssY0FBY0YsTUFBTUMsSUFBSSxDQUFDSSxNQUFNLEdBQzlDO29DQUNFQSxRQUFRTCxNQUFNQyxJQUFJLENBQUNJLE1BQU0sQ0FBQ04sR0FBRzs0RkFBQyxDQUFDTyxRQUFnQjtnREFD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Z0RBQ3JCLEdBQUdGLFNBQVNLLGNBQWM7Z0RBQzNCekIsV0FBVyxrQkFBMEQsT0FBeEN3QixTQUFTRSxVQUFVLEdBQUcsZUFBZTs7a0VBRWxFLDhEQUFDM0I7d0RBQUssR0FBR3FCLFNBQVNPLGVBQWU7d0RBQUUzQixXQUFVO2tFQUMzQyw0RUFBQ0Q7NERBQUlDLFdBQVU7c0VBQ2IsNEVBQUMxSix3RkFBWUE7Z0VBQUMwSixXQUFVOzs7Ozs7Ozs7Ozs7Ozs7O29EQUczQlAsWUFBWTNIOzs7Ozs7O3VDQVpIQSxNQUFNYSxFQUFFOzs7OztnQ0FpQnpCeUksU0FBU2hLLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT25DO0dBaHRCZ0JOO0tBQUFBIiwic291cmNlcyI6WyIvVXNlcnMvdGhlby9EZXZlbG9wcGVyL1dFQi9Ob3Rlcy9ub3Rlcy9zcmMvY29tcG9uZW50cy9lZGl0b3IvQWR2YW5jZWROb3Rpb25FZGl0b3IudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gXCJzb25uZXJcIjtcbmltcG9ydCB7IEdyaXBWZXJ0aWNhbCwgVHJhc2gyLCBDb3B5LCBBcnJvd1VwLCBBcnJvd0Rvd24gfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgRHJhZ0Ryb3BDb250ZXh0LCBEcm9wcGFibGUsIERyYWdnYWJsZSB9IGZyb20gJ0BoZWxsby1wYW5nZWEvZG5kJztcbmltcG9ydCB7IFRhYmxlQmxvY2sgfSBmcm9tICcuL2Jsb2Nrcy9UYWJsZUJsb2NrJztcbmltcG9ydCB7IEltYWdlQmxvY2sgfSBmcm9tICcuL2Jsb2Nrcy9JbWFnZUJsb2NrJztcbmltcG9ydCB7IENhbGVuZGFyQmxvY2sgfSBmcm9tICcuL2Jsb2Nrcy9DYWxlbmRhckJsb2NrJztcbmltcG9ydCB7IFRvZG9CbG9jayB9IGZyb20gJy4vYmxvY2tzL1RvZG9CbG9jayc7XG5cbmludGVyZmFjZSBCbG9jayB7XG4gIGlkOiBzdHJpbmc7XG4gIHR5cGU6ICdwYXJhZ3JhcGgnIHwgJ2hlYWRpbmcxJyB8ICdoZWFkaW5nMicgfCAnaGVhZGluZzMnIHwgJ2J1bGxldExpc3QnIHwgJ251bWJlcmVkTGlzdCcgfCAncXVvdGUnIHwgJ2NvZGUnIHwgJ2RpdmlkZXInIHwgJ3RhYmxlJyB8ICdpbWFnZScgfCAnY2FsZW5kYXInIHwgJ3RvZG9MaXN0JztcbiAgY29udGVudDogc3RyaW5nO1xuICBkYXRhPzogYW55O1xufVxuXG5pbnRlcmZhY2UgQWR2YW5jZWROb3Rpb25FZGl0b3JQcm9wcyB7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgYmxvY2tzPzogQmxvY2tbXTtcbiAgb25DaGFuZ2U6IChjb250ZW50OiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uU2F2ZTogKGJsb2Nrcz86IEJsb2NrW10pID0+IHZvaWQ7XG4gIHBsYWNlaG9sZGVyPzogc3RyaW5nO1xuICBhdXRvU2F2ZT86IGJvb2xlYW47XG4gIHNhdmVJbnRlcnZhbD86IG51bWJlcjtcbiAgb25JbnNlcnRCbG9ja1JlcXVlc3Q/OiAoaW5zZXJ0Rm46ICh0eXBlOiBzdHJpbmcsIGRhdGE/OiBhbnkpID0+IHZvaWQpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBZHZhbmNlZE5vdGlvbkVkaXRvcih7IFxuICBjb250ZW50LCBcbiAgYmxvY2tzOiBpbml0aWFsQmxvY2tzLCBcbiAgb25DaGFuZ2UsIFxuICBvblNhdmUsIFxuICBwbGFjZWhvbGRlciwgXG4gIGF1dG9TYXZlID0gdHJ1ZSwgXG4gIHNhdmVJbnRlcnZhbCA9IDUwMDAsXG4gIG9uSW5zZXJ0QmxvY2tSZXF1ZXN0XG59OiBBZHZhbmNlZE5vdGlvbkVkaXRvclByb3BzKSB7XG4gIGNvbnN0IFtibG9ja3MsIHNldEJsb2Nrc10gPSB1c2VTdGF0ZTxCbG9ja1tdPigoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ0luaXRpYWxpc2F0aW9uIGRlcyBibG9jczonLCB7IGluaXRpYWxCbG9ja3MsIGNvbnRlbnQgfSk7XG4gICAgXG4gICAgaWYgKGluaXRpYWxCbG9ja3MgJiYgaW5pdGlhbEJsb2Nrcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zb2xlLmxvZygnVXRpbGlzYXRpb24gZGVzIGJsb2NzIGluaXRpYXV4OicsIGluaXRpYWxCbG9ja3MpO1xuICAgICAgLy8gRMOpc8OpcmlhbGlzZXIgbGVzIGRhdGVzIHNpIG7DqWNlc3NhaXJlXG4gICAgICBjb25zdCBkZXNlcmlhbGl6ZWRCbG9ja3MgPSBpbml0aWFsQmxvY2tzLm1hcChibG9jayA9PiAoe1xuICAgICAgICAuLi5ibG9jayxcbiAgICAgICAgZGF0YTogYmxvY2suZGF0YSA/IHtcbiAgICAgICAgICAuLi5ibG9jay5kYXRhLFxuICAgICAgICAgIC8vIFJlY29udmVydGlyIGxlcyBzdHJpbmdzIGVuIGRhdGVzIHBvdXIgbGVzIGJsb2NzIHF1aSBlbiBvbnQgYmVzb2luXG4gICAgICAgICAgLi4uKGJsb2NrLnR5cGUgPT09ICdjYWxlbmRhcicgJiYgYmxvY2suZGF0YS5jdXJyZW50RGF0ZSBcbiAgICAgICAgICAgID8geyBjdXJyZW50RGF0ZTogbmV3IERhdGUoYmxvY2suZGF0YS5jdXJyZW50RGF0ZSkgfSBcbiAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgIC4uLihibG9jay50eXBlID09PSAnY2FsZW5kYXInICYmIGJsb2NrLmRhdGEuZXZlbnRzIFxuICAgICAgICAgICAgPyB7IFxuICAgICAgICAgICAgICAgIGV2ZW50czogYmxvY2suZGF0YS5ldmVudHMubWFwKChldmVudDogYW55KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgLi4uZXZlbnQsXG4gICAgICAgICAgICAgICAgICBkYXRlOiBuZXcgRGF0ZShldmVudC5kYXRlKVxuICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgLi4uKGJsb2NrLnR5cGUgPT09ICd0b2RvTGlzdCcgJiYgYmxvY2suZGF0YS5pdGVtcyBcbiAgICAgICAgICAgID8geyBcbiAgICAgICAgICAgICAgICBpdGVtczogYmxvY2suZGF0YS5pdGVtcy5tYXAoKGl0ZW06IGFueSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGl0ZW0uY3JlYXRlZEF0KVxuICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgOiB7fSlcbiAgICAgICAgfSA6IHVuZGVmaW5lZFxuICAgICAgfSkpO1xuICAgICAgY29uc29sZS5sb2coJ0Jsb2NzIGTDqXPDqXJpYWxpc8OpczonLCBkZXNlcmlhbGl6ZWRCbG9ja3MpO1xuICAgICAgcmV0dXJuIGRlc2VyaWFsaXplZEJsb2NrcztcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZGVmYXVsdEJsb2NrcyA9IFt7IGlkOiAnMScsIHR5cGU6ICdwYXJhZ3JhcGgnLCBjb250ZW50OiBjb250ZW50IHx8ICcnIH1dO1xuICAgIGNvbnNvbGUubG9nKCdVdGlsaXNhdGlvbiBkZXMgYmxvY3MgcGFyIGTDqWZhdXQ6JywgZGVmYXVsdEJsb2Nrcyk7XG4gICAgcmV0dXJuIGRlZmF1bHRCbG9ja3MgYXMgQmxvY2tbXTtcbiAgfSk7XG4gIGNvbnN0IFtsYXN0U2F2ZWQsIHNldExhc3RTYXZlZF0gPSB1c2VTdGF0ZTxEYXRlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtoYXNVbnNhdmVkQ2hhbmdlcywgc2V0SGFzVW5zYXZlZENoYW5nZXNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNTYXZpbmcsIHNldElzU2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xhc3RDb250ZW50LCBzZXRMYXN0Q29udGVudF0gPSB1c2VTdGF0ZShjb250ZW50IHx8ICcnKTtcbiAgY29uc3QgZWRpdG9yUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3Qgc2F2ZVRpbWVvdXRSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgbGFzdEN1cnNvclBvc2l0aW9uID0gdXNlUmVmPHtibG9ja0lkOiBzdHJpbmcsIHBvc2l0aW9uOiBudW1iZXIsIGNvbnRlbnQ6IHN0cmluZ30gfCBudWxsPihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb250ZW50ICYmIGJsb2Nrcy5sZW5ndGggPT09IDEgJiYgIWJsb2Nrc1swXS5jb250ZW50KSB7XG4gICAgICBzZXRCbG9ja3MoW3sgaWQ6ICcxJywgdHlwZTogJ3BhcmFncmFwaCcsIGNvbnRlbnQgfV0pO1xuICAgIH1cbiAgfSwgW2NvbnRlbnRdKTtcblxuICAvLyBBdXRvLXNhdmUgZWZmZWN0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGF1dG9TYXZlICYmIGhhc1Vuc2F2ZWRDaGFuZ2VzICYmICFpc1NhdmluZykge1xuICAgICAgaWYgKHNhdmVUaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNhdmVUaW1lb3V0UmVmLmN1cnJlbnQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBjdXJyZW50Q29udGVudCA9IGJsb2Nrcy5tYXAoYmxvY2sgPT4gXG4gICAgICAgIGJsb2NrLnR5cGUgPT09ICdwYXJhZ3JhcGgnID8gYmxvY2suY29udGVudCA6IGBbJHtibG9jay50eXBlfV1gXG4gICAgICApLmpvaW4oJ1xcbicpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGhhc01pbmltdW1Db250ZW50ID0gY3VycmVudENvbnRlbnQubGVuZ3RoID4gMztcbiAgICAgIFxuICAgICAgaWYgKGhhc01pbmltdW1Db250ZW50KSB7XG4gICAgICAgIHNhdmVUaW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBoYW5kbGVTYXZlKCk7XG4gICAgICAgIH0sIHNhdmVJbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChzYXZlVGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzYXZlVGltZW91dFJlZi5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbaGFzVW5zYXZlZENoYW5nZXMsIGF1dG9TYXZlLCBzYXZlSW50ZXJ2YWwsIGlzU2F2aW5nLCBibG9ja3NdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoc2F2ZVRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoc2F2ZVRpbWVvdXRSZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZVNhdmUgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGlzU2F2aW5nKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBibG9ja3MubWFwKGJsb2NrID0+IFxuICAgICAgYmxvY2sudHlwZSA9PT0gJ3BhcmFncmFwaCcgPyBibG9jay5jb250ZW50IDogYFske2Jsb2NrLnR5cGV9XSR7YmxvY2suY29udGVudH1gXG4gICAgKS5qb2luKCdcXG4nKTtcbiAgICBpZiAoY3VycmVudENvbnRlbnQgPT09IGxhc3RDb250ZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHNldElzU2F2aW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICAvLyBTw6lyaWFsaXNlciBsZXMgYmxvY3MgcG91ciBsYSBzYXV2ZWdhcmRlIChjb252ZXJ0aXIgbGVzIGRhdGVzIGVuIHN0cmluZ3MpXG4gICAgICBjb25zdCBzZXJpYWxpemVkQmxvY2tzID0gYmxvY2tzLm1hcChibG9jayA9PiAoe1xuICAgICAgICAuLi5ibG9jayxcbiAgICAgICAgZGF0YTogYmxvY2suZGF0YSA/IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYmxvY2suZGF0YSkpIDogdW5kZWZpbmVkXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIC8vIFNhdXZlZ2FyZGVyIGF2ZWMgbGVzIGJsb2NzIHN0cnVjdHVyw6lzXG4gICAgICBhd2FpdCBvblNhdmUoc2VyaWFsaXplZEJsb2Nrcyk7XG4gICAgICBzZXRMYXN0U2F2ZWQobmV3IERhdGUoKSk7XG4gICAgICBzZXRIYXNVbnNhdmVkQ2hhbmdlcyhmYWxzZSk7XG4gICAgICBzZXRMYXN0Q29udGVudChjdXJyZW50Q29udGVudCk7XG4gICAgICBcbiAgICAgIGlmICghYXV0b1NhdmUpIHtcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhcIk5vdGUgc2F1dmVnYXJkw6llXCIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKFwiRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZVwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTYXZpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBGb25jdGlvbiBzaW1wbGUgcG91ciBjaGFuZ2VyIHVuIGJsb2NcbiAgY29uc3QgaGFuZGxlQmxvY2tDaGFuZ2UgPSAoYmxvY2tJZDogc3RyaW5nLCBuZXdDb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICBzZXRCbG9ja3MocHJldkJsb2NrcyA9PlxuICAgICAgcHJldkJsb2Nrcy5tYXAoYmxvY2sgPT5cbiAgICAgICAgYmxvY2suaWQgPT09IGJsb2NrSWQgPyB7IC4uLmJsb2NrLCBjb250ZW50OiBuZXdDb250ZW50IH0gOiBibG9ja1xuICAgICAgKVxuICAgICk7XG4gICAgc2V0SGFzVW5zYXZlZENoYW5nZXModHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQmxvY2tVcGRhdGUgPSAoYmxvY2tJZDogc3RyaW5nLCBkYXRhOiBhbnkpID0+IHtcbiAgICBzZXRCbG9ja3MocHJldkJsb2NrcyA9PlxuICAgICAgcHJldkJsb2Nrcy5tYXAoYmxvY2sgPT5cbiAgICAgICAgYmxvY2suaWQgPT09IGJsb2NrSWQgPyB7IC4uLmJsb2NrLCBkYXRhIH0gOiBibG9ja1xuICAgICAgKVxuICAgICk7XG4gICAgc2V0SGFzVW5zYXZlZENoYW5nZXModHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgYWRkTmV3QmxvY2sgPSAoYWZ0ZXJCbG9ja0lkOiBzdHJpbmcsIHR5cGU6IEJsb2NrWyd0eXBlJ10gPSAncGFyYWdyYXBoJykgPT4ge1xuICAgIGNvbnN0IG5ld0Jsb2NrOiBCbG9jayA9IHtcbiAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICB0eXBlLFxuICAgICAgY29udGVudDogJycsXG4gICAgICBkYXRhOiBnZXREZWZhdWx0RGF0YUZvclR5cGUodHlwZSlcbiAgICB9O1xuXG4gICAgc2V0QmxvY2tzKHByZXZCbG9ja3MgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSBwcmV2QmxvY2tzLmZpbmRJbmRleChibG9jayA9PiBibG9jay5pZCA9PT0gYWZ0ZXJCbG9ja0lkKTtcbiAgICAgIGNvbnN0IG5ld0Jsb2NrcyA9IFsuLi5wcmV2QmxvY2tzXTtcbiAgICAgIG5ld0Jsb2Nrcy5zcGxpY2UoaW5kZXggKyAxLCAwLCBuZXdCbG9jayk7XG4gICAgICByZXR1cm4gbmV3QmxvY2tzO1xuICAgIH0pO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBuZXdCbG9ja0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1ibG9jay1pZD1cIiR7bmV3QmxvY2suaWR9XCJdYCkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBpZiAobmV3QmxvY2tFbGVtZW50KSB7XG4gICAgICAgIG5ld0Jsb2NrRWxlbWVudC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0sIDApO1xuICB9O1xuXG4gIGNvbnN0IGluc2VydEJsb2NrID0gdXNlQ2FsbGJhY2soKHR5cGU6IHN0cmluZywgZGF0YT86IGFueSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdJbnNlcnRpb24gZGUgYmxvYyBkYW5zIGxcXCfDqWRpdGV1cjonLCB0eXBlLCBkYXRhKTtcbiAgICBjb25zb2xlLmxvZygnUG9zaXRpb24gc2F1dmVnYXJkw6llIGR1IGN1cnNldXI6JywgbGFzdEN1cnNvclBvc2l0aW9uLmN1cnJlbnQpO1xuICAgIFxuICAgIGNvbnN0IGdldERlZmF1bHREYXRhID0gKGJsb2NrVHlwZTogQmxvY2tbJ3R5cGUnXSkgPT4ge1xuICAgICAgc3dpdGNoIChibG9ja1R5cGUpIHtcbiAgICAgICAgY2FzZSAndGFibGUnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb3dzOiBbWycnLCAnJ10sIFsnJywgJyddXSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGZhbHNlLFxuICAgICAgICAgICAgYWxpZ25tZW50OiBbJ2xlZnQnLCAnbGVmdCddXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnaW1hZ2UnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzcmM6ICcnLFxuICAgICAgICAgICAgYWx0OiAnJyxcbiAgICAgICAgICAgIGNhcHRpb246ICcnLFxuICAgICAgICAgICAgYWxpZ25tZW50OiAnY2VudGVyJyxcbiAgICAgICAgICAgIHNpemU6ICdtZWRpdW0nXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnY2FsZW5kYXInOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBldmVudHM6IFtdLFxuICAgICAgICAgICAgdmlldzogJ21vbnRoJyxcbiAgICAgICAgICAgIGN1cnJlbnREYXRlOiBuZXcgRGF0ZSgpXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAndG9kb0xpc3QnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpdGVtczogW10sXG4gICAgICAgICAgICB0aXRsZTogJ0xpc3RlIGRlIHTDomNoZXMnXG4gICAgICAgICAgfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBuZXdCbG9jazogQmxvY2sgPSB7XG4gICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgdHlwZTogdHlwZSBhcyBCbG9ja1sndHlwZSddLFxuICAgICAgY29udGVudDogJycsXG4gICAgICBkYXRhOiBkYXRhIHx8IGdldERlZmF1bHREYXRhKHR5cGUgYXMgQmxvY2tbJ3R5cGUnXSlcbiAgICB9O1xuXG4gICAgLy8gVXRpbGlzZXIgbGEgcG9zaXRpb24gc2F1dmVnYXJkw6llIGR1IGN1cnNldXJcbiAgICBjb25zdCBjdXJzb3JJbmZvID0gbGFzdEN1cnNvclBvc2l0aW9uLmN1cnJlbnQ7XG5cbiAgICBzZXRCbG9ja3MoY3VycmVudEJsb2NrcyA9PiB7XG4gICAgICBpZiAoIWN1cnNvckluZm8pIHtcbiAgICAgICAgLy8gUGFzIGRlIHBvc2l0aW9uIHNhdXZlZ2FyZMOpZSwgYWpvdXRlciDDoCBsYSBmaW5cbiAgICAgICAgY29uc29sZS5sb2coJ1BhcyBkZSBwb3NpdGlvbiBzYXV2ZWdhcmTDqWUsIGFqb3V0IMOgIGxhIGZpbicpO1xuICAgICAgICByZXR1cm4gWy4uLmN1cnJlbnRCbG9ja3MsIG5ld0Jsb2NrXTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGFyZ2V0SW5kZXggPSBjdXJyZW50QmxvY2tzLmZpbmRJbmRleChibG9jayA9PiBibG9jay5pZCA9PT0gY3Vyc29ySW5mby5ibG9ja0lkKTtcbiAgICAgIGlmICh0YXJnZXRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0Jsb2MgY2libGUgbm9uIHRyb3V2w6ksIGFqb3V0IMOgIGxhIGZpbicpO1xuICAgICAgICByZXR1cm4gWy4uLmN1cnJlbnRCbG9ja3MsIG5ld0Jsb2NrXTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGFyZ2V0QmxvY2sgPSBjdXJyZW50QmxvY2tzW3RhcmdldEluZGV4XTtcbiAgICAgIGNvbnN0IG5ld0Jsb2NrcyA9IFsuLi5jdXJyZW50QmxvY2tzXTtcbiAgICAgIGNvbnN0IHsgcG9zaXRpb24sIGNvbnRlbnQgfSA9IGN1cnNvckluZm87XG5cbiAgICAgIGNvbnNvbGUubG9nKCdJbnNlcnRpb24gYXZlYyBwb3NpdGlvbjonLCB7IHRhcmdldEluZGV4LCBwb3NpdGlvbiwgY29udGVudCB9KTtcblxuICAgICAgLy8gU2kgbGUgY3Vyc2V1ciBlc3QgYXUgbWlsaWV1IGR1IHRleHRlLCBkaXZpc2VyXG4gICAgICBpZiAocG9zaXRpb24gPiAwICYmIHBvc2l0aW9uIDwgY29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgYmVmb3JlVGV4dCA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIHBvc2l0aW9uKTtcbiAgICAgICAgY29uc3QgYWZ0ZXJUZXh0ID0gY29udGVudC5zdWJzdHJpbmcocG9zaXRpb24pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdEaXZpc2lvbiBkdSBibG9jOicsIHsgYmVmb3JlVGV4dCwgYWZ0ZXJUZXh0IH0pO1xuXG4gICAgICAgIC8vIE1vZGlmaWVyIGxlIGJsb2MgYWN0dWVsXG4gICAgICAgIG5ld0Jsb2Nrc1t0YXJnZXRJbmRleF0gPSB7IC4uLnRhcmdldEJsb2NrLCBjb250ZW50OiBiZWZvcmVUZXh0IH07XG5cbiAgICAgICAgLy8gQ3LDqWVyIGxlIGJsb2MgcG91ciBsZSB0ZXh0ZSBhcHLDqHNcbiAgICAgICAgY29uc3QgYWZ0ZXJCbG9jazogQmxvY2sgPSB7XG4gICAgICAgICAgaWQ6IChEYXRlLm5vdygpICsgMSkudG9TdHJpbmcoKSxcbiAgICAgICAgICB0eXBlOiAncGFyYWdyYXBoJyxcbiAgICAgICAgICBjb250ZW50OiBhZnRlclRleHRcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJbnPDqXJlciBsZSBub3V2ZWF1IGJsb2MgZXQgbGUgYmxvYyBhcHLDqHNcbiAgICAgICAgbmV3QmxvY2tzLnNwbGljZSh0YXJnZXRJbmRleCArIDEsIDAsIG5ld0Jsb2NrLCBhZnRlckJsb2NrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEluc2VydGlvbiBzaW1wbGVcbiAgICAgICAgY29uc3QgaW5zZXJ0QXQgPSBwb3NpdGlvbiA9PT0gMCA/IHRhcmdldEluZGV4IDogdGFyZ2V0SW5kZXggKyAxO1xuICAgICAgICBjb25zb2xlLmxvZygnSW5zZXJ0aW9uIHNpbXBsZSDDoCBsXFwnaW5kZXg6JywgaW5zZXJ0QXQpO1xuICAgICAgICBuZXdCbG9ja3Muc3BsaWNlKGluc2VydEF0LCAwLCBuZXdCbG9jayk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdCbG9ja3M7XG4gICAgfSk7XG5cbiAgICBzZXRIYXNVbnNhdmVkQ2hhbmdlcyh0cnVlKTtcblxuICAgIC8vIEZvY3VzIHN1ciBsZSBub3V2ZWF1IGJsb2NcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IG5ld0Jsb2NrRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWJsb2NrLWlkPVwiJHtuZXdCbG9jay5pZH1cIl1gKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGlmIChuZXdCbG9ja0VsZW1lbnQpIHtcbiAgICAgICAgbmV3QmxvY2tFbGVtZW50LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSwgNTApO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgZGVsZXRlQmxvY2sgPSAoYmxvY2tJZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0QmxvY2tzKHByZXZCbG9ja3MgPT4gcHJldkJsb2Nrcy5maWx0ZXIoYmxvY2sgPT4gYmxvY2suaWQgIT09IGJsb2NrSWQpKTtcbiAgICBzZXRIYXNVbnNhdmVkQ2hhbmdlcyh0cnVlKTtcbiAgfTtcblxuICBjb25zdCBkdXBsaWNhdGVCbG9jayA9IChibG9ja0lkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBibG9ja1RvRHVwbGljYXRlID0gYmxvY2tzLmZpbmQoYmxvY2sgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgIGlmICghYmxvY2tUb0R1cGxpY2F0ZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgZHVwbGljYXRlZEJsb2NrOiBCbG9jayA9IHtcbiAgICAgIC4uLmJsb2NrVG9EdXBsaWNhdGUsXG4gICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpXG4gICAgfTtcblxuICAgIGNvbnN0IG9yaWdpbmFsSW5kZXggPSBibG9ja3MuZmluZEluZGV4KGJsb2NrID0+IGJsb2NrLmlkID09PSBibG9ja0lkKTtcbiAgICBzZXRCbG9ja3MocHJldkJsb2NrcyA9PiB7XG4gICAgICBjb25zdCBuZXdCbG9ja3MgPSBbLi4ucHJldkJsb2Nrc107XG4gICAgICBuZXdCbG9ja3Muc3BsaWNlKG9yaWdpbmFsSW5kZXggKyAxLCAwLCBkdXBsaWNhdGVkQmxvY2spO1xuICAgICAgcmV0dXJuIG5ld0Jsb2NrcztcbiAgICB9KTtcbiAgICBzZXRIYXNVbnNhdmVkQ2hhbmdlcyh0cnVlKTtcbiAgfTtcblxuICBjb25zdCBtb3ZlQmxvY2sgPSAoYmxvY2tJZDogc3RyaW5nLCBkaXJlY3Rpb246ICd1cCcgfCAnZG93bicpID0+IHtcbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSBibG9ja3MuZmluZEluZGV4KGJsb2NrID0+IGJsb2NrLmlkID09PSBibG9ja0lkKTtcbiAgICBpZiAoY3VycmVudEluZGV4ID09PSAtMSkgcmV0dXJuO1xuXG4gICAgY29uc3QgbmV3SW5kZXggPSBkaXJlY3Rpb24gPT09ICd1cCcgPyBjdXJyZW50SW5kZXggLSAxIDogY3VycmVudEluZGV4ICsgMTtcbiAgICBpZiAobmV3SW5kZXggPCAwIHx8IG5ld0luZGV4ID49IGJsb2Nrcy5sZW5ndGgpIHJldHVybjtcblxuICAgIHNldEJsb2NrcyhwcmV2QmxvY2tzID0+IHtcbiAgICAgIGNvbnN0IG5ld0Jsb2NrcyA9IFsuLi5wcmV2QmxvY2tzXTtcbiAgICAgIGNvbnN0IFttb3ZlZEJsb2NrXSA9IG5ld0Jsb2Nrcy5zcGxpY2UoY3VycmVudEluZGV4LCAxKTtcbiAgICAgIG5ld0Jsb2Nrcy5zcGxpY2UobmV3SW5kZXgsIDAsIG1vdmVkQmxvY2spO1xuICAgICAgcmV0dXJuIG5ld0Jsb2NrcztcbiAgICB9KTtcbiAgICBzZXRIYXNVbnNhdmVkQ2hhbmdlcyh0cnVlKTtcbiAgfTtcblxuICBjb25zdCBnZXREZWZhdWx0RGF0YUZvclR5cGUgPSAodHlwZTogQmxvY2tbJ3R5cGUnXSkgPT4ge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAndGFibGUnOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJvd3M6IFtbJycsICcnXSwgWycnLCAnJ11dLFxuICAgICAgICAgIGhlYWRlcnM6IGZhbHNlLFxuICAgICAgICAgIGFsaWdubWVudDogWydsZWZ0JywgJ2xlZnQnXVxuICAgICAgICB9O1xuICAgICAgY2FzZSAnaW1hZ2UnOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNyYzogJycsXG4gICAgICAgICAgYWx0OiAnJyxcbiAgICAgICAgICBjYXB0aW9uOiAnJyxcbiAgICAgICAgICBhbGlnbm1lbnQ6ICdjZW50ZXInLFxuICAgICAgICAgIHNpemU6ICdtZWRpdW0nXG4gICAgICAgIH07XG4gICAgICBjYXNlICdjYWxlbmRhcic6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZXZlbnRzOiBbXSxcbiAgICAgICAgICB2aWV3OiAnbW9udGgnLFxuICAgICAgICAgIGN1cnJlbnREYXRlOiBuZXcgRGF0ZSgpXG4gICAgICAgIH07XG4gICAgICBjYXNlICd0b2RvTGlzdCc6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgICAgIHRpdGxlOiAnTGlzdGUgZGUgdMOiY2hlcydcbiAgICAgICAgfTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCwgYmxvY2tJZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY3VycmVudEJsb2NrID0gYmxvY2tzLmZpbmQoYmxvY2sgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoYmxvY2sgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgIFxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgYWRkTmV3QmxvY2soYmxvY2tJZCk7XG4gICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJy8nICYmIGN1cnJlbnRCbG9jaz8uY29udGVudCA9PT0gJycpIHtcbiAgICAgIC8vIFJhY2NvdXJjaSBwb3VyIG91dnJpciBsZSBtZW51IGQnaW5zZXJ0aW9uXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zb2xlLmxvZygnT3V2ZXJ0dXJlIGR1IG1lbnUgZFxcJ2luc2VydGlvbiBwb3VyIGxlIGJsb2M6JywgYmxvY2tJZCk7XG4gICAgICAvLyBUT0RPOiBPdXZyaXIgdW4gbWVudSBjb250ZXh0dWVsIGQnaW5zZXJ0aW9uXG4gICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0JhY2tzcGFjZScpIHtcbiAgICAgIC8vIFNpIGxlIGJsb2MgZXN0IHZpZGUgb3Ugc2kgb24gZXN0IGF1IGTDqWJ1dCBkdSBjb250ZW51XG4gICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MVGV4dEFyZWFFbGVtZW50IHwgSFRNTElucHV0RWxlbWVudDtcbiAgICAgIGNvbnN0IGN1cnNvclBvc2l0aW9uID0gdGFyZ2V0LnNlbGVjdGlvblN0YXJ0O1xuICAgICAgXG4gICAgICBpZiAoY3Vyc29yUG9zaXRpb24gPT09IDAgJiYgY3VycmVudEJsb2NrPy5jb250ZW50ID09PSAnJykge1xuICAgICAgICAvLyBTdXBwcmltZXIgbGUgYmxvYyB2aWRlIGV0IHJldmVuaXIgYXUgcHLDqWPDqWRlbnRcbiAgICAgICAgaWYgKGJsb2Nrcy5sZW5ndGggPiAxICYmIGN1cnJlbnRJbmRleCA+IDApIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgY29uc3QgcHJldmlvdXNCbG9jayA9IGJsb2Nrc1tjdXJyZW50SW5kZXggLSAxXTtcbiAgICAgICAgICBjb25zdCBwcmV2aW91c0Jsb2NrQ29udGVudCA9IHByZXZpb3VzQmxvY2suY29udGVudDtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTdXBwcmltZXIgbGUgYmxvYyBjb3VyYW50XG4gICAgICAgICAgc2V0QmxvY2tzKHByZXZCbG9ja3MgPT4gcHJldkJsb2Nrcy5maWx0ZXIoYmxvY2sgPT4gYmxvY2suaWQgIT09IGJsb2NrSWQpKTtcbiAgICAgICAgICBzZXRIYXNVbnNhdmVkQ2hhbmdlcyh0cnVlKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGb2N1c2VyIHN1ciBsZSBibG9jIHByw6ljw6lkZW50IMOgIGxhIGZpbiBkZSBzb24gY29udGVudVxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtYmxvY2staWQ9XCIke3ByZXZpb3VzQmxvY2suaWR9XCJdYCkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50KSB7XG4gICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAvLyBQbGFjZXIgbGUgY3Vyc2V1ciDDoCBsYSBmaW5cbiAgICAgICAgICAgICAgaWYgKHByZXZpb3VzRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQgfHwgcHJldmlvdXNFbGVtZW50IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZShwcmV2aW91c0Jsb2NrQ29udGVudC5sZW5ndGgsIHByZXZpb3VzQmxvY2tDb250ZW50Lmxlbmd0aCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjdXJzb3JQb3NpdGlvbiA9PT0gMCAmJiBjdXJyZW50QmxvY2s/LmNvbnRlbnQgJiYgY3VycmVudEluZGV4ID4gMCkge1xuICAgICAgICAvLyBGdXNpb25uZXIgYXZlYyBsZSBibG9jIHByw6ljw6lkZW50XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgcHJldmlvdXNCbG9jayA9IGJsb2Nrc1tjdXJyZW50SW5kZXggLSAxXTtcbiAgICAgICAgY29uc3QgcHJldmlvdXNDb250ZW50ID0gcHJldmlvdXNCbG9jay5jb250ZW50O1xuICAgICAgICBjb25zdCBjdXJyZW50Q29udGVudCA9IGN1cnJlbnRCbG9jay5jb250ZW50O1xuICAgICAgICBcbiAgICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbGUgY29udGVudSBkdSBibG9jIHByw6ljw6lkZW50XG4gICAgICAgIHNldEJsb2NrcyhwcmV2QmxvY2tzID0+IFxuICAgICAgICAgIHByZXZCbG9ja3NcbiAgICAgICAgICAgIC5tYXAoYmxvY2sgPT4gXG4gICAgICAgICAgICAgIGJsb2NrLmlkID09PSBwcmV2aW91c0Jsb2NrLmlkIFxuICAgICAgICAgICAgICAgID8geyAuLi5ibG9jaywgY29udGVudDogcHJldmlvdXNDb250ZW50ICsgY3VycmVudENvbnRlbnQgfVxuICAgICAgICAgICAgICAgIDogYmxvY2tcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5maWx0ZXIoYmxvY2sgPT4gYmxvY2suaWQgIT09IGJsb2NrSWQpXG4gICAgICAgICk7XG4gICAgICAgIHNldEhhc1Vuc2F2ZWRDaGFuZ2VzKHRydWUpO1xuICAgICAgICBcbiAgICAgICAgLy8gRm9jdXNlciBzdXIgbGUgYmxvYyBwcsOpY8OpZGVudCDDoCBsYSBwb3NpdGlvbiBkZSBqb25jdGlvblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBjb25zdCBwcmV2aW91c0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1ibG9jay1pZD1cIiR7cHJldmlvdXNCbG9jay5pZH1cIl1gKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50KSB7XG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgIC8vIFBsYWNlciBsZSBjdXJzZXVyIMOgIGxhIHBvc2l0aW9uIGRlIGpvbmN0aW9uXG4gICAgICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudCB8fCBwcmV2aW91c0VsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZShwcmV2aW91c0NvbnRlbnQubGVuZ3RoLCBwcmV2aW91c0NvbnRlbnQubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd1VwJyAmJiBjdXJyZW50SW5kZXggPiAwKSB7XG4gICAgICAvLyBOYXZpZ2F0aW9uIHZlcnMgbGUgYmxvYyBwcsOpY8OpZGVudCBhdmVjIGZsw6hjaGUgaGF1dFxuICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTFRleHRBcmVhRWxlbWVudCB8IEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICBjb25zdCBjdXJzb3JQb3NpdGlvbiA9IHRhcmdldC5zZWxlY3Rpb25TdGFydDtcbiAgICAgIFxuICAgICAgLy8gU2kgb24gZXN0IGF1IGTDqWJ1dCBkZSBsYSBsaWduZSBvdSBzaSBjJ2VzdCB1biBpbnB1dFxuICAgICAgaWYgKGN1cnNvclBvc2l0aW9uID09PSAwIHx8IHRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBwcmV2aW91c0Jsb2NrID0gYmxvY2tzW2N1cnJlbnRJbmRleCAtIDFdO1xuICAgICAgICBjb25zdCBwcmV2aW91c0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1ibG9jay1pZD1cIiR7cHJldmlvdXNCbG9jay5pZH1cIl1gKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKHByZXZpb3VzRWxlbWVudCkge1xuICAgICAgICAgIHByZXZpb3VzRWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgIC8vIFBsYWNlciBsZSBjdXJzZXVyIMOgIGxhIGZpblxuICAgICAgICAgIGlmIChwcmV2aW91c0VsZW1lbnQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50IHx8IHByZXZpb3VzRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuZFBvc2l0aW9uID0gcHJldmlvdXNFbGVtZW50LnZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZShlbmRQb3NpdGlvbiwgZW5kUG9zaXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd0Rvd24nICYmIGN1cnJlbnRJbmRleCA8IGJsb2Nrcy5sZW5ndGggLSAxKSB7XG4gICAgICAvLyBOYXZpZ2F0aW9uIHZlcnMgbGUgYmxvYyBzdWl2YW50IGF2ZWMgZmzDqGNoZSBiYXNcbiAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQgfCBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgY29uc3QgY3Vyc29yUG9zaXRpb24gPSB0YXJnZXQuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICBjb25zdCB0ZXh0TGVuZ3RoID0gdGFyZ2V0LnZhbHVlLmxlbmd0aDtcbiAgICAgIFxuICAgICAgLy8gU2kgb24gZXN0IMOgIGxhIGZpbiBkZSBsYSBsaWduZSBvdSBzaSBjJ2VzdCB1biBpbnB1dFxuICAgICAgaWYgKGN1cnNvclBvc2l0aW9uID09PSB0ZXh0TGVuZ3RoIHx8IHRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBuZXh0QmxvY2sgPSBibG9ja3NbY3VycmVudEluZGV4ICsgMV07XG4gICAgICAgIGNvbnN0IG5leHRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtYmxvY2staWQ9XCIke25leHRCbG9jay5pZH1cIl1gKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKG5leHRFbGVtZW50KSB7XG4gICAgICAgICAgbmV4dEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAvLyBQbGFjZXIgbGUgY3Vyc2V1ciBhdSBkw6lidXRcbiAgICAgICAgICBpZiAobmV4dEVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50IHx8IG5leHRFbGVtZW50IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkge1xuICAgICAgICAgICAgbmV4dEVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSB7XG4gICAgICBpZiAoZS5rZXkgPT09ICdzJykge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGhhbmRsZVNhdmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gR2VzdGlvbiBkdSBkcmFnICYgZHJvcCBhdmVjIEBoZWxsby1wYW5nZWEvZG5kXG4gIGNvbnN0IGhhbmRsZURyYWdFbmQgPSAocmVzdWx0OiBhbnkpID0+IHtcbiAgICBpZiAoIXJlc3VsdC5kZXN0aW5hdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNvdXJjZUluZGV4ID0gcmVzdWx0LnNvdXJjZS5pbmRleDtcbiAgICBjb25zdCBkZXN0aW5hdGlvbkluZGV4ID0gcmVzdWx0LmRlc3RpbmF0aW9uLmluZGV4O1xuXG4gICAgaWYgKHNvdXJjZUluZGV4ID09PSBkZXN0aW5hdGlvbkluZGV4KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0QmxvY2tzKHByZXZCbG9ja3MgPT4ge1xuICAgICAgY29uc3QgbmV3QmxvY2tzID0gQXJyYXkuZnJvbShwcmV2QmxvY2tzKTtcbiAgICAgIGNvbnN0IFtyZW9yZGVyZWRJdGVtXSA9IG5ld0Jsb2Nrcy5zcGxpY2Uoc291cmNlSW5kZXgsIDEpO1xuICAgICAgbmV3QmxvY2tzLnNwbGljZShkZXN0aW5hdGlvbkluZGV4LCAwLCByZW9yZGVyZWRJdGVtKTtcbiAgICAgIHJldHVybiBuZXdCbG9ja3M7XG4gICAgfSk7XG4gICAgXG4gICAgc2V0SGFzVW5zYXZlZENoYW5nZXModHJ1ZSk7XG4gICAgdG9hc3Quc3VjY2VzcygnQmxvYyBkw6lwbGFjw6kgYXZlYyBzdWNjw6hzJyk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyQmxvY2sgPSAoYmxvY2s6IEJsb2NrKSA9PiB7XG4gICAgY29uc3QgY29tbW9uUHJvcHMgPSB7XG4gICAgICAnZGF0YS1ibG9jay1pZCc6IGJsb2NrLmlkLFxuICAgICAgb25LZXlEb3duOiAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4gaGFuZGxlS2V5RG93bihlLCBibG9jay5pZCksXG4gICAgICBvbkZvY3VzOiAoZTogUmVhY3QuRm9jdXNFdmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFRleHRBcmVhRWxlbWVudDtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0YXJnZXQuc2VsZWN0aW9uU3RhcnQgfHwgMDtcbiAgICAgICAgbGFzdEN1cnNvclBvc2l0aW9uLmN1cnJlbnQgPSB7XG4gICAgICAgICAgYmxvY2tJZDogYmxvY2suaWQsXG4gICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgY29udGVudDogdGFyZ2V0LnZhbHVlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIHN3aXRjaCAoYmxvY2sudHlwZSkge1xuICAgICAgY2FzZSAndGFibGUnOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxUYWJsZUJsb2NrXG4gICAgICAgICAgICBrZXk9e2Jsb2NrLmlkfVxuICAgICAgICAgICAgaWQ9e2Jsb2NrLmlkfVxuICAgICAgICAgICAgZGF0YT17YmxvY2suZGF0YSB8fCBnZXREZWZhdWx0RGF0YUZvclR5cGUoJ3RhYmxlJyl9XG4gICAgICAgICAgICBvblVwZGF0ZT17aGFuZGxlQmxvY2tVcGRhdGV9XG4gICAgICAgICAgICBvbkRlbGV0ZT17ZGVsZXRlQmxvY2t9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgJ2ltYWdlJzpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8SW1hZ2VCbG9ja1xuICAgICAgICAgICAga2V5PXtibG9jay5pZH1cbiAgICAgICAgICAgIGlkPXtibG9jay5pZH1cbiAgICAgICAgICAgIGRhdGE9e2Jsb2NrLmRhdGEgfHwgZ2V0RGVmYXVsdERhdGFGb3JUeXBlKCdpbWFnZScpfVxuICAgICAgICAgICAgb25VcGRhdGU9e2hhbmRsZUJsb2NrVXBkYXRlfVxuICAgICAgICAgICAgb25EZWxldGU9e2RlbGV0ZUJsb2NrfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlICdjYWxlbmRhcic6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPENhbGVuZGFyQmxvY2tcbiAgICAgICAgICAgIGtleT17YmxvY2suaWR9XG4gICAgICAgICAgICBpZD17YmxvY2suaWR9XG4gICAgICAgICAgICBkYXRhPXtibG9jay5kYXRhIHx8IGdldERlZmF1bHREYXRhRm9yVHlwZSgnY2FsZW5kYXInKX1cbiAgICAgICAgICAgIG9uVXBkYXRlPXtoYW5kbGVCbG9ja1VwZGF0ZX1cbiAgICAgICAgICAgIG9uRGVsZXRlPXtkZWxldGVCbG9ja31cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgY2FzZSAndG9kb0xpc3QnOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxUb2RvQmxvY2tcbiAgICAgICAgICAgIGtleT17YmxvY2suaWR9XG4gICAgICAgICAgICBpZD17YmxvY2suaWR9XG4gICAgICAgICAgICBkYXRhPXtibG9jay5kYXRhIHx8IGdldERlZmF1bHREYXRhRm9yVHlwZSgndG9kb0xpc3QnKX1cbiAgICAgICAgICAgIG9uVXBkYXRlPXtoYW5kbGVCbG9ja1VwZGF0ZX1cbiAgICAgICAgICAgIG9uRGVsZXRlPXtkZWxldGVCbG9ja31cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgY2FzZSAnZGl2aWRlcic6XG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLXB4IGJnLWJvcmRlciBteS00XCIgLz47XG4gICAgICBjYXNlICdoZWFkaW5nMSc6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB7Li4uY29tbW9uUHJvcHN9XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctdHJhbnNwYXJlbnQgYm9yZGVyLW5vbmUgb3V0bGluZS1ub25lIHRleHQtM3hsIGZvbnQtYm9sZCBwbGFjZWhvbGRlcjp0ZXh0LW11dGVkLWZvcmVncm91bmRcIlxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtibG9jay5jb250ZW50fVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVCbG9ja0NoYW5nZShibG9jay5pZCwgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUaXRyZSAxXCJcbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgY2FzZSAnaGVhZGluZzInOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgey4uLmNvbW1vblByb3BzfVxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXRyYW5zcGFyZW50IGJvcmRlci1ub25lIG91dGxpbmUtbm9uZSB0ZXh0LTJ4bCBmb250LXNlbWlib2xkIHBsYWNlaG9sZGVyOnRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2Jsb2NrLmNvbnRlbnR9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUJsb2NrQ2hhbmdlKGJsb2NrLmlkLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlRpdHJlIDJcIlxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlICdoZWFkaW5nMyc6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB7Li4uY29tbW9uUHJvcHN9XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctdHJhbnNwYXJlbnQgYm9yZGVyLW5vbmUgb3V0bGluZS1ub25lIHRleHQteGwgZm9udC1tZWRpdW0gcGxhY2Vob2xkZXI6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCJcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17YmxvY2suY29udGVudH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQmxvY2tDaGFuZ2UoYmxvY2suaWQsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVGl0cmUgM1wiXG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgJ3F1b3RlJzpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1sLTQgYm9yZGVyLW11dGVkIHBsLTRcIj5cbiAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICB7Li4uY29tbW9uUHJvcHN9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy10cmFuc3BhcmVudCBib3JkZXItbm9uZSBvdXRsaW5lLW5vbmUgcmVzaXplLW5vbmUgaXRhbGljIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBwbGFjZWhvbGRlcjp0ZXh0LW11dGVkLWZvcmVncm91bmRcIlxuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2Jsb2NrLmNvbnRlbnR9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQmxvY2tDaGFuZ2UoYmxvY2suaWQsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJDaXRhdGlvbi4uLlwiXG4gICAgICAgICAgICAgIHJvd3M9ezF9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgY2FzZSAnY29kZSc6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1tdXRlZCByb3VuZGVkLW1kIHAtMyBmb250LW1vbm9cIj5cbiAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICB7Li4uY29tbW9uUHJvcHN9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy10cmFuc3BhcmVudCBib3JkZXItbm9uZSBvdXRsaW5lLW5vbmUgcmVzaXplLW5vbmUgZm9udC1tb25vIHRleHQtc20gcGxhY2Vob2xkZXI6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCJcbiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtibG9jay5jb250ZW50fVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUJsb2NrQ2hhbmdlKGJsb2NrLmlkLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQ29kZS4uLlwiXG4gICAgICAgICAgICAgIHJvd3M9ezN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgIHsuLi5jb21tb25Qcm9wc31cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy10cmFuc3BhcmVudCBib3JkZXItbm9uZSBvdXRsaW5lLW5vbmUgcmVzaXplLW5vbmUgcGxhY2Vob2xkZXI6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCJcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17YmxvY2suY29udGVudH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQmxvY2tDaGFuZ2UoYmxvY2suaWQsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiXCJcbiAgICAgICAgICAgIHJvd3M9ezF9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZm9ybWF0TGFzdFNhdmVkID0gKCkgPT4ge1xuICAgIGlmICghbGFzdFNhdmVkKSByZXR1cm4gJyc7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBkaWZmID0gbm93LmdldFRpbWUoKSAtIGxhc3RTYXZlZC5nZXRUaW1lKCk7XG4gICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoZGlmZiAvIDYwMDAwKTtcbiAgICBcbiAgICBpZiAobWludXRlcyA9PT0gMCkgcmV0dXJuICfDgCBsXFwnaW5zdGFudCc7XG4gICAgaWYgKG1pbnV0ZXMgPT09IDEpIHJldHVybiAnSWwgeSBhIDEgbWludXRlJztcbiAgICBpZiAobWludXRlcyA8IDYwKSByZXR1cm4gYElsIHkgYSAke21pbnV0ZXN9IG1pbnV0ZXNgO1xuICAgIFxuICAgIHJldHVybiBsYXN0U2F2ZWQudG9Mb2NhbGVUaW1lU3RyaW5nKCdmci1GUicsIHsgXG4gICAgICBob3VyOiAnMi1kaWdpdCcsIFxuICAgICAgbWludXRlOiAnMi1kaWdpdCcgXG4gICAgfSk7XG4gIH07XG5cbiAgLy8gRXhwb3NlIGluc2VydEJsb2NrIGZ1bmN0aW9uIHRvIHBhcmVudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChvbkluc2VydEJsb2NrUmVxdWVzdCkge1xuICAgICAgb25JbnNlcnRCbG9ja1JlcXVlc3QoaW5zZXJ0QmxvY2spO1xuICAgIH1cbiAgfSwgW29uSW5zZXJ0QmxvY2tSZXF1ZXN0LCBpbnNlcnRCbG9ja10pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiIHJlZj17ZWRpdG9yUmVmfT5cbiAgICAgIHsvKiBCYXJyZSBkZSBzdGF0dXQgZGUgc2F1dmVnYXJkZSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTQgcGItMiBib3JkZXItYlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAge2lzU2F2aW5nID8gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1ibHVlLTUwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1wdWxzZVwiIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4+U2F1dmVnYXJkZS4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApIDogaGFzVW5zYXZlZENoYW5nZXMgPyAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIgaC0yIGJnLW9yYW5nZS01MDAgcm91bmRlZC1mdWxsXCIgLz5cbiAgICAgICAgICAgICAgICA8c3Bhbj5Nb2RpZmljYXRpb25zIG5vbiBzYXV2ZWdhcmTDqWVzPC9zcGFuPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkgOiBsYXN0U2F2ZWQgPyAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIgaC0yIGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGxcIiAvPlxuICAgICAgICAgICAgICAgIDxzcGFuPlNhdXZlZ2FyZMOpIHtmb3JtYXRMYXN0U2F2ZWQoKX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMiBoLTIgYmctZ3JheS00MDAgcm91bmRlZC1mdWxsXCIgLz5cbiAgICAgICAgICAgICAgICA8c3Bhbj5Ob3V2ZWF1IGJyb3VpbGxvbjwvc3Bhbj5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU2F2ZSgpfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU2F2aW5nIHx8ICFoYXNVbnNhdmVkQ2hhbmdlc31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aXNTYXZpbmcgPyAnU2F1dmVnYXJkZS4uLicgOiAnU2F1dmVnYXJkZXInfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgIHthdXRvU2F2ZSA/ICdBdXRvLXNhdmUgYWN0aXbDqScgOiAnQ3RybCtTJ31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPERyYWdEcm9wQ29udGV4dCBvbkRyYWdFbmQ9e2hhbmRsZURyYWdFbmR9PlxuICAgICAgICA8RHJvcHBhYmxlIGRyb3BwYWJsZUlkPVwiYmxvY2tzXCI+XG4gICAgICAgICAgeyhwcm92aWRlZCkgPT4gKFxuICAgICAgICAgICAgPGRpdiB7Li4ucHJvdmlkZWQuZHJvcHBhYmxlUHJvcHN9IHJlZj17cHJvdmlkZWQuaW5uZXJSZWZ9IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICB7YmxvY2tzLm1hcCgoYmxvY2ssIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgPERyYWdnYWJsZSBrZXk9e2Jsb2NrLmlkfSBkcmFnZ2FibGVJZD17YmxvY2suaWR9IGluZGV4PXtpbmRleH0+XG4gICAgICAgICAgICAgICAgICB7KHByb3ZpZGVkLCBzbmFwc2hvdCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgcmVmPXtwcm92aWRlZC5pbm5lclJlZn1cbiAgICAgICAgICAgICAgICAgICAgICB7Li4ucHJvdmlkZWQuZHJhZ2dhYmxlUHJvcHN9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcmVsYXRpdmUgZ3JvdXAgJHtzbmFwc2hvdC5pc0RyYWdnaW5nID8gJ29wYWNpdHktNzUnIDogJyd9YH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgey4uLnByb3ZpZGVkLmRyYWdIYW5kbGVQcm9wc30gY2xhc3NOYW1lPVwiYWJzb2x1dGUgLWxlZnQtOCB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTYgaC02IGJnLWdyYXktMTAwIGhvdmVyOmJnLWdyYXktMjAwIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZCBjdXJzb3ItZ3JhYiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpcFZlcnRpY2FsIGNsYXNzTmFtZT1cImgtMyB3LTMgdGV4dC1ncmF5LTUwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyQmxvY2soYmxvY2spfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9EcmFnZ2FibGU+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICB7cHJvdmlkZWQucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L0Ryb3BwYWJsZT5cbiAgICAgIDwvRHJhZ0Ryb3BDb250ZXh0PlxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiQnV0dG9uIiwidG9hc3QiLCJHcmlwVmVydGljYWwiLCJEcmFnRHJvcENvbnRleHQiLCJEcm9wcGFibGUiLCJEcmFnZ2FibGUiLCJUYWJsZUJsb2NrIiwiSW1hZ2VCbG9jayIsIkNhbGVuZGFyQmxvY2siLCJUb2RvQmxvY2siLCJBZHZhbmNlZE5vdGlvbkVkaXRvciIsImNvbnRlbnQiLCJibG9ja3MiLCJpbml0aWFsQmxvY2tzIiwib25DaGFuZ2UiLCJvblNhdmUiLCJwbGFjZWhvbGRlciIsImF1dG9TYXZlIiwic2F2ZUludGVydmFsIiwib25JbnNlcnRCbG9ja1JlcXVlc3QiLCJzZXRCbG9ja3MiLCJjb25zb2xlIiwibG9nIiwibGVuZ3RoIiwiZGVzZXJpYWxpemVkQmxvY2tzIiwibWFwIiwiYmxvY2siLCJkYXRhIiwidHlwZSIsImN1cnJlbnREYXRlIiwiRGF0ZSIsImV2ZW50cyIsImV2ZW50IiwiZGF0ZSIsIml0ZW1zIiwiaXRlbSIsImNyZWF0ZWRBdCIsInVuZGVmaW5lZCIsImRlZmF1bHRCbG9ja3MiLCJpZCIsImxhc3RTYXZlZCIsInNldExhc3RTYXZlZCIsImhhc1Vuc2F2ZWRDaGFuZ2VzIiwic2V0SGFzVW5zYXZlZENoYW5nZXMiLCJpc1NhdmluZyIsInNldElzU2F2aW5nIiwibGFzdENvbnRlbnQiLCJzZXRMYXN0Q29udGVudCIsImVkaXRvclJlZiIsInNhdmVUaW1lb3V0UmVmIiwibGFzdEN1cnNvclBvc2l0aW9uIiwiY3VycmVudCIsImNsZWFyVGltZW91dCIsImN1cnJlbnRDb250ZW50Iiwiam9pbiIsInRyaW0iLCJoYXNNaW5pbXVtQ29udGVudCIsInNldFRpbWVvdXQiLCJoYW5kbGVTYXZlIiwic2VyaWFsaXplZEJsb2NrcyIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsInN1Y2Nlc3MiLCJlcnJvciIsImhhbmRsZUJsb2NrQ2hhbmdlIiwiYmxvY2tJZCIsIm5ld0NvbnRlbnQiLCJwcmV2QmxvY2tzIiwiaGFuZGxlQmxvY2tVcGRhdGUiLCJhZGROZXdCbG9jayIsImFmdGVyQmxvY2tJZCIsIm5ld0Jsb2NrIiwibm93IiwidG9TdHJpbmciLCJnZXREZWZhdWx0RGF0YUZvclR5cGUiLCJpbmRleCIsImZpbmRJbmRleCIsIm5ld0Jsb2NrcyIsInNwbGljZSIsIm5ld0Jsb2NrRWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImZvY3VzIiwiaW5zZXJ0QmxvY2siLCJnZXREZWZhdWx0RGF0YSIsImJsb2NrVHlwZSIsInJvd3MiLCJoZWFkZXJzIiwiYWxpZ25tZW50Iiwic3JjIiwiYWx0IiwiY2FwdGlvbiIsInNpemUiLCJ2aWV3IiwidGl0bGUiLCJjdXJzb3JJbmZvIiwiY3VycmVudEJsb2NrcyIsInRhcmdldEluZGV4IiwidGFyZ2V0QmxvY2siLCJwb3NpdGlvbiIsImJlZm9yZVRleHQiLCJzdWJzdHJpbmciLCJhZnRlclRleHQiLCJhZnRlckJsb2NrIiwiaW5zZXJ0QXQiLCJkZWxldGVCbG9jayIsImZpbHRlciIsImR1cGxpY2F0ZUJsb2NrIiwiYmxvY2tUb0R1cGxpY2F0ZSIsImZpbmQiLCJkdXBsaWNhdGVkQmxvY2siLCJvcmlnaW5hbEluZGV4IiwibW92ZUJsb2NrIiwiZGlyZWN0aW9uIiwiY3VycmVudEluZGV4IiwibmV3SW5kZXgiLCJtb3ZlZEJsb2NrIiwiaGFuZGxlS2V5RG93biIsImUiLCJjdXJyZW50QmxvY2siLCJrZXkiLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldCIsImN1cnNvclBvc2l0aW9uIiwic2VsZWN0aW9uU3RhcnQiLCJwcmV2aW91c0Jsb2NrIiwicHJldmlvdXNCbG9ja0NvbnRlbnQiLCJwcmV2aW91c0VsZW1lbnQiLCJIVE1MVGV4dEFyZWFFbGVtZW50IiwiSFRNTElucHV0RWxlbWVudCIsInNldFNlbGVjdGlvblJhbmdlIiwicHJldmlvdXNDb250ZW50IiwiZW5kUG9zaXRpb24iLCJ2YWx1ZSIsInRleHRMZW5ndGgiLCJuZXh0QmxvY2siLCJuZXh0RWxlbWVudCIsImN0cmxLZXkiLCJtZXRhS2V5IiwiaGFuZGxlRHJhZ0VuZCIsInJlc3VsdCIsImRlc3RpbmF0aW9uIiwic291cmNlSW5kZXgiLCJzb3VyY2UiLCJkZXN0aW5hdGlvbkluZGV4IiwiQXJyYXkiLCJmcm9tIiwicmVvcmRlcmVkSXRlbSIsInJlbmRlckJsb2NrIiwiY29tbW9uUHJvcHMiLCJvbktleURvd24iLCJvbkZvY3VzIiwib25VcGRhdGUiLCJvbkRlbGV0ZSIsImRpdiIsImNsYXNzTmFtZSIsImlucHV0IiwiZGVmYXVsdFZhbHVlIiwidGV4dGFyZWEiLCJmb3JtYXRMYXN0U2F2ZWQiLCJkaWZmIiwiZ2V0VGltZSIsIm1pbnV0ZXMiLCJNYXRoIiwiZmxvb3IiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwicmVmIiwic3BhbiIsInZhcmlhbnQiLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJvbkRyYWdFbmQiLCJkcm9wcGFibGVJZCIsInByb3ZpZGVkIiwiZHJvcHBhYmxlUHJvcHMiLCJpbm5lclJlZiIsImRyYWdnYWJsZUlkIiwic25hcHNob3QiLCJkcmFnZ2FibGVQcm9wcyIsImlzRHJhZ2dpbmciLCJkcmFnSGFuZGxlUHJvcHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/editor/AdvancedNotionEditor.tsx\n"));

/***/ })

});